# Программа по поиску отелей в различных городах мира для телеграм-бота

## Что это такое?
___

Данная программа выполняет поиск отелей в различных городах мира по запросам пользователя, которые принимаются в оболочке телеграм-бота.

## Структура программы
___
#### Программа состоит из четырех скриптов:

1. _**main.py**_ - главный скрипт программы, в котором прописан основной функционал по обработке принимаемых в оболочке телеграм-бота запросов пользователя, а также ряд блоков кода, призванных обеспечить взаимодействие программы с _**Rapid API**_ (адрес сайта: https://rapidapi.com/apidojo/api/hotels4). В результате этого взаимодействия бот получает данные необходимые пользователю.
2. модуль _**user.py**_, в котором прописан класс _**User**_. Данный класс создает объекты, которые являются контейнерами по хранению информации вводимой пользователем.
3. модуль _**verification.py**_, в котором прописан функционал проверки вводимых пользователем дат, цен, диапазона расстояния на валидность.
4. модуль _**history.py**_, в котором содержится функционал по записи информации в базу данных и выводу данной информации из нее.

## Запуск программы и ее техническая поддержка
___
Для корректного запуска программы и надлежащей технической поддержки Вам необходимо подключить ряд внешних библиотек. Список библиотек смотрите в файле **_requirements.txt_**.

В рамках работы по технической поддержке настоятельно рекомендуется отлавливать вводимые пользователем названия городов, которые некорректно переводятся на английский язык библиотекой **_googletrans_**. При нахождении такого названия рекомендуется самостоятельно прописать код для его перевода. Это необходимо для корректной работы программы.

Пример кода, который содержит ручной перевод названия города:

    if name_city == 'марсель':
        return 'Marseille'
    else:
        translator = Translator()
        translation = translator.translate(name_city, src='ru', dest='en')
        return translation.text

Для подключения управления к нужному телеграм-боту используйте соответствующий токен.




## Работа в оболочке телеграм-бота
___

Телеграм-бот имеет отзывчивый интерфейс и на любой некорректный ввод пользователя бот выдаст ошибку ввода и подскажет пользователю, что нужно ввести для корректного отображения результатов.

## Сведения об ошибках и некорректной работе программы
___

В отдельных случаях результаты работы телеграм-бота могут быть не совсем корректны (бот сообщает, что ему не удалось найти полностью или частично список отелей либо в крайне редких случаях дает список не самых дорогих отелей в городе, при том, что пользователь искал самые дорогие). Это связанно с работой **_Rapid API_**, а не с самой программой телеграм-бота. При подозрении, что полученные результаты поиска некорректны рекомендуется сверить их с данными Rapid API (адрес сайта: https://rapidapi.com/apidojo/api/hotels4).  В подобных ситуациях рекомендуется повторить запрос информации об отелях в телеграм-бот и посмотреть изменения в результатах поиска и при необходимости сверить их с напрямую данным **_Rapid API_**.

## Сведения об авторе
___
Автором данной программы является Сурма Алексей, студент обучающей платформы **_Skillbox_**.
По всем вопросам технической поддержки, найденным ошибкам и улучшению работы программы пишите мне на электронную почту **_surma623@gmail.com_**.









